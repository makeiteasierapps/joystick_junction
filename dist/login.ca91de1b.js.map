{"mappings":"A,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,Q,S,C,C,C,ECAA,AAAA,EAAA,SAAA,QAAA,CAA8C,KAAK,KAAA,CAAM,sO,G,E,Q,C,Q,S,C,C,C,E,I,E,E,S,E,E,S,E,E,S,E,E,QCMzD,CAAA,OAAO,MAAA,CAAS,WACZ,QAAQ,GAAA,CAAI,iBACZ,gFAAgF;AAChF,4DAA4D;AAC5D,SACK,cAAA,CAAe,kBACf,gBAAA,CAAiB,QAAS,SAAU,CAAC,EAClC,4CAA4C;AAC5C,EAAE,cAAF,GACA,yDAAyD;AACzD,EAAE,eAAF,GACA,0BAA0B;AAC1B,SAAS,cAAA,CAAe,cAAc,KAAA,CAAM,OAAA,CAAU,OACtD,sCAAsC;AACtC,SAAS,cAAA,CAAe,uBAAuB,KAAA,CAAM,OAAA,CACjD,QACJ,6BAA6B;AAC7B,SAAS,cAAA,CAAe,iBAAiB,KAAA,CAAM,OAAA,CAAU,MAC7D,GAEJ,+EAA+E;AAC/E,mDAAmD;AACnD,SACK,cAAA,CAAe,iBACf,gBAAA,CAAiB,QAAS,SAAU,CAAC,EAClC,4CAA4C;AAC5C,EAAE,cAAF,GACA,yDAAyD;AACzD,EAAE,eAAF,GACA,mCAAmC;AACnC,SAAS,cAAA,CAAe,uBAAuB,KAAA,CAAM,OAAA,CACjD,OACJ,6BAA6B;AAC7B,SAAS,cAAA,CAAe,cAAc,KAAA,CAAM,OAAA,CAAU,QACtD,gCAAgC;AAChC,SAAS,cAAA,CAAe,iBAAiB,KAAA,CAAM,OAAA,CAAU,OAC7D,GAEJ,gFAAgF;AAChF,qHAAqH;AACrH,SACK,cAAA,CAAe,uBACf,gBAAA,CAAiB,SAAU,eAAgB,CAAC,EACzC,iHAAiH;AACjH,oFAAoF;AACpF,IAAM,EAAU,MAAM,AAAA,CAAA,EAAA,EAAA,OAAU,AAAV,EAAY,oBAAA,CAC9B,AAAA,EAAA,OAAU,CAAE,UAAA,CACZ,uBACF,GACE,GACA,CAAA,OAAO,QAAA,CAAS,IAAA,CAAO,WAAA,EAAA,EAAA,EAAO,CAEtC,GACJ,uEAAuE;AACvE,oHAAoH;AACpH,SACK,cAAA,CAAe,cACf,gBAAA,CAAiB,SAAU,eAAgB,CAAC,EACzC,iHAAiH;AACjH,oFAAoF;AACpF,IAAM,EAAW,MAAM,AAAA,CAAA,EAAA,EAAA,OAAU,AAAV,EAAY,oBAAA,CAC/B,AAAA,EAAA,OAAU,CAAE,SAAA,CACZ,cACF,GACF,GAAI,EAAS,OAAA,CAAS,CAClB,IAAM,EAAM,EAAS,MAAA,CAAO,IAAA,CAAK,GAAjC,CAEM,EAAU,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,EAAA,EAAC,CAAG,QAAS,EACjC,kDAAiD;AACjD,MAAM,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAAU,EAAS,CAAE,OAAQ,CAAA,CAAK,GACxC,OAAO,QAAA,CAAS,IAAA,CAAO,WAAA,EAAA,EAAA,EAC3B,CACJ,EACR,EAKI,OAAO,gBAAA,CACH,OACA,WACI,6EAA6E;AAC7E,IAAI,EAAQ,SAAS,sBAAA,CAAuB,mBAC5C,yCAAwC;AACvB,MAAM,SAAA,CAAU,MAAA,CAAO,IAAA,CACpC,EACA,SAAU,CAAI,EACV,EAAK,gBAAA,CACD,SACA,SAAU,CAAK,EACkB,CAAA,IAAzB,EAAK,aAAA,KACL,EAAM,cAAN,GACA,EAAM,eAAN,IAEJ,EAAK,SAAA,CAAU,GAAA,CAAI,gBACvB,EACA,CAAA,EAER,EAER,EACA,CAAA,E,G,E,Q,C,Q,S,C,C,C,EC3GR,EAAA,OAAA,CAAiB,IAAA,IAAoB,AAAA,EAAA,SAAA,OAAA,CAA6C,SAAA,YAAA,GAAA,EAAU,QAA5F,E,G,E,Q,4D","sources":["<anon>","node_modules/@parcel/runtime-js/lib/runtime-eef435477310adfd.js","js/login.js","node_modules/@parcel/runtime-js/lib/runtime-8c409d16b379a511.js"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire8a3e\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire8a3e\"] = parcelRequire;\n}\nparcelRequire.register(\"3ePpe\", function(module, exports) {\n\n(parcelRequire(\"27Lyk\")).register(JSON.parse('{\"qXT0n\":\"login.ca91de1b.js\",\"7A3lL\":\"home.9f917cfa.html\",\"3YQD3\":\"home.f536451c.css\",\"1rD8F\":\"home.e54078db.js\",\"87lIH\":\"login.67683850.js\"}'));\n\n});\n\nparcelRequire.register(\"h59ig\", function(module, exports) {\n\nvar $kxgSl = parcelRequire(\"kxgSl\");\n\nvar $4nZKn = parcelRequire(\"4nZKn\");\n\nvar $6Uh31 = parcelRequire(\"6Uh31\");\n\nvar $ilpIi = parcelRequire(\"ilpIi\");\nwindow.onload = function() {\n    console.log(\"window.onload\");\n    // This event listener is triggered when the 'create-account' button is clicked.\n    // It changes the visible form to the 'create account' form.\n    document.getElementById(\"create-account\").addEventListener(\"click\", function(e) {\n        // Prevents the default action of the event.\n        e.preventDefault();\n        // Stops the propagation of the event to parent elements.\n        e.stopPropagation();\n        // Hides the 'login' form.\n        document.getElementById(\"login-form\").style.display = \"none\";\n        // Displays the 'create account' form.\n        document.getElementById(\"create-account-form\").style.display = \"block\";\n        // Hides the 'login' buttons.\n        document.getElementById(\"login-buttons\").style.display = \"none\";\n    });\n    // This event listener is triggered when the 'back-to-login' button is clicked.\n    // It changes the visible form to the 'login' form.\n    document.getElementById(\"back-to-login\").addEventListener(\"click\", function(e) {\n        // Prevents the default action of the event.\n        e.preventDefault();\n        // Stops the propagation of the event to parent elements.\n        e.stopPropagation();\n        // Hides the 'create account' form.\n        document.getElementById(\"create-account-form\").style.display = \"none\";\n        // Displays the 'login' form.\n        document.getElementById(\"login-form\").style.display = \"block\";\n        // Displays the 'login' buttons.\n        document.getElementById(\"login-buttons\").style.display = \"block\";\n    });\n    // This event listener is triggered when the 'create account' form is submitted.\n    // It calls the 'getFormSubmitHandler' method of the 'AuthService' class with the 'createUser' method as a parameter.\n    document.getElementById(\"create-account-form\").addEventListener(\"submit\", async function(e) {\n        // The 'getFormSubmitHandler' method returns a function that is immediately called with the event as a parameter.\n        // If the form submission is successful, the user is redirected to the '/home' page.\n        const success = await (0, $kxgSl.default).getFormSubmitHandler((0, $kxgSl.default).createUser, \"create-account-form\")(e);\n        if (success) window.location.href = (0, (/*@__PURE__*/$parcel$interopDefault($4nZKn)));\n    });\n    // This event listener is triggered when the 'login' form is submitted.\n    // It calls the 'getFormSubmitHandler' method of the 'AuthService' class with the 'loginUser' method as a parameter.\n    document.getElementById(\"login-form\").addEventListener(\"submit\", async function(e) {\n        // The 'getFormSubmitHandler' method returns a function that is immediately called with the event as a parameter.\n        // If the form submission is successful, the user is redirected to the '/home' page.\n        const response = await (0, $kxgSl.default).getFormSubmitHandler((0, $kxgSl.default).loginUser, \"login-form\")(e);\n        if (response.success) {\n            const uid = response.result.user.uid;\n            // Get a reference to the user document\n            const userRef = (0, $ilpIi.doc)((0, $6Uh31.db), \"users\", uid);\n            // Update the 'online' field of the user document\n            await (0, $ilpIi.updateDoc)(userRef, {\n                online: true\n            });\n            window.location.href = (0, (/*@__PURE__*/$parcel$interopDefault($4nZKn)));\n        }\n    });\n};\n// Example starter JavaScript for disabling form submissions if there are invalid fields\n(function() {\n    \"use strict\";\n    window.addEventListener(\"load\", function() {\n        // Fetch all the forms we want to apply custom Bootstrap validation styles to\n        var forms = document.getElementsByClassName(\"needs-validation\");\n        // Loop over them and prevent submission\n        var validation = Array.prototype.filter.call(forms, function(form) {\n            form.addEventListener(\"submit\", function(event) {\n                if (form.checkValidity() === false) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n                form.classList.add(\"was-validated\");\n            }, false);\n        });\n    }, false);\n})();\n\n});\nparcelRequire.register(\"4nZKn\", function(module, exports) {\n\nmodule.exports = new URL((parcelRequire(\"27Lyk\")).resolve(\"7A3lL\"), import.meta.url).toString();\n\n});\n\n\n\nparcelRequire(\"3ePpe\");\n\n//# sourceMappingURL=login.ca91de1b.js.map\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"qXT0n\\\":\\\"login.ca91de1b.js\\\",\\\"7A3lL\\\":\\\"home.9f917cfa.html\\\",\\\"3YQD3\\\":\\\"home.f536451c.css\\\",\\\"1rD8F\\\":\\\"home.e54078db.js\\\",\\\"87lIH\\\":\\\"login.67683850.js\\\"}\"));","import AuthService from './auth.js';\nimport homePage from '../home.html';\nimport {db} from './firebaseConfig.js';\nimport { doc, updateDoc } from 'firebase/firestore';\n\n\nwindow.onload = function () {\n    console.log('window.onload');\n    // This event listener is triggered when the 'create-account' button is clicked.\n    // It changes the visible form to the 'create account' form.\n    document\n        .getElementById('create-account')\n        .addEventListener('click', function (e) {\n            // Prevents the default action of the event.\n            e.preventDefault();\n            // Stops the propagation of the event to parent elements.\n            e.stopPropagation();\n            // Hides the 'login' form.\n            document.getElementById('login-form').style.display = 'none';\n            // Displays the 'create account' form.\n            document.getElementById('create-account-form').style.display =\n                'block';\n            // Hides the 'login' buttons.\n            document.getElementById('login-buttons').style.display = 'none';\n        });\n\n    // This event listener is triggered when the 'back-to-login' button is clicked.\n    // It changes the visible form to the 'login' form.\n    document\n        .getElementById('back-to-login')\n        .addEventListener('click', function (e) {\n            // Prevents the default action of the event.\n            e.preventDefault();\n            // Stops the propagation of the event to parent elements.\n            e.stopPropagation();\n            // Hides the 'create account' form.\n            document.getElementById('create-account-form').style.display =\n                'none';\n            // Displays the 'login' form.\n            document.getElementById('login-form').style.display = 'block';\n            // Displays the 'login' buttons.\n            document.getElementById('login-buttons').style.display = 'block';\n        });\n\n    // This event listener is triggered when the 'create account' form is submitted.\n    // It calls the 'getFormSubmitHandler' method of the 'AuthService' class with the 'createUser' method as a parameter.\n    document\n        .getElementById('create-account-form')\n        .addEventListener('submit', async function (e) {\n            // The 'getFormSubmitHandler' method returns a function that is immediately called with the event as a parameter.\n            // If the form submission is successful, the user is redirected to the '/home' page.\n            const success = await AuthService.getFormSubmitHandler(\n                AuthService.createUser,\n                'create-account-form'\n            )(e);\n            if (success) {\n                window.location.href = homePage;\n            }\n        });\n    // This event listener is triggered when the 'login' form is submitted.\n    // It calls the 'getFormSubmitHandler' method of the 'AuthService' class with the 'loginUser' method as a parameter.\n    document\n        .getElementById('login-form')\n        .addEventListener('submit', async function (e) {\n            // The 'getFormSubmitHandler' method returns a function that is immediately called with the event as a parameter.\n            // If the form submission is successful, the user is redirected to the '/home' page.\n            const response = await AuthService.getFormSubmitHandler(\n                AuthService.loginUser,\n                'login-form'\n            )(e);\n            if (response.success) {\n                const uid = response.result.user.uid;\n                // Get a reference to the user document\n                const userRef = doc(db, 'users', uid);\n                // Update the 'online' field of the user document\n                await updateDoc(userRef, { online: true });\n                window.location.href = homePage;\n            }\n        });\n};\n\n// Example starter JavaScript for disabling form submissions if there are invalid fields\n(function () {\n    'use strict';\n    window.addEventListener(\n        'load',\n        function () {\n            // Fetch all the forms we want to apply custom Bootstrap validation styles to\n            var forms = document.getElementsByClassName('needs-validation');\n            // Loop over them and prevent submission\n            var validation = Array.prototype.filter.call(\n                forms,\n                function (form) {\n                    form.addEventListener(\n                        'submit',\n                        function (event) {\n                            if (form.checkValidity() === false) {\n                                event.preventDefault();\n                                event.stopPropagation();\n                            }\n                            form.classList.add('was-validated');\n                        },\n                        false\n                    );\n                }\n            );\n        },\n        false\n    );\n})();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7A3lL\")).toString();"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","JSON","parse","$kxgSl","$4nZKn","$6Uh31","$ilpIi","onload","console","log","document","getElementById","addEventListener","e","preventDefault","stopPropagation","style","display","success","getFormSubmitHandler","createUser","location","href","response","loginUser","uid","result","user","userRef","doc","db","updateDoc","online","forms","getElementsByClassName","Array","prototype","filter","form","event","checkValidity","classList","add","URL","resolve","url","toString"],"version":3,"file":"login.ca91de1b.js.map"}